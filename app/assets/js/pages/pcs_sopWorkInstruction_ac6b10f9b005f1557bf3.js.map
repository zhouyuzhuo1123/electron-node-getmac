{"version":3,"sources":["webpack:///assets/js/pages/pcs_sopWorkInstruction_ac6b10f9b005f1557bf3.js","webpack:///./src/js/pages/pcs/sopWorkInstruction.js"],"names":["webpackJsonp","640","module","exports","__webpack_require__","$","security","util","mqttLib","kit","sopWorkInstructionCtrl","intervalCont","noDataInterCont","stationCode","$timeEl","undefined","pages","page","$page","moduleConfig","data","productNum","productId","carDescription","remainingQuantity","remark","productionSeqNum","workSteps","noStep","stepText","duration","detailText","attensionText","variableFormula","init","this","flag","length","setBeforeRemove","setZoom","translate","initData","_this2","myApp","onPageBeforeRemove","clear","clearTimeout","subscribeNotify","_this3","_this","topic","getSiteCode","subscribe","registerMessageHandler","getDataAndRenderScreen","config","getSysModuleConfig","done","response","proConfig","allRender","tplManager","bottomRenfer","url","service","rowNum","assemblyStationCode","onlineStationCode","triggerSuccessEvun","haveData","noData","increaseStep","nowStep","total","html","reduceSecond","nowSecond","renderFn","renderNoData","res","interval","arr","doStep","setInterval","clearInterval","call"],"mappings":"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","file":"assets/js/pages/pcs_sopWorkInstruction_ac6b10f9b005f1557bf3.js","sourcesContent":["webpackJsonp([21],{\n\n/***/ 640:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function($) {\n\nvar security = __webpack_require__(35);\nvar util = __webpack_require__(34);\nvar mqttLib = __webpack_require__(53);\nvar kit = __webpack_require__(78);\n\nvar sopWorkInstructionCtrl = {\n\tintervalCont: null,\n\tnoDataInterCont: null,\n\tstationCode: \"\",\n\t$timeEl: undefined,\n\tpages: undefined,\n\tpage: undefined,\n\t$page: undefined,\n\tmoduleConfig: undefined,\n\tdata: {\n\t\t\"productNum\": \"--\",\n\t\t\"productId\": \"--\",\n\t\t\"carDescription\": \"--\",\n\t\t\"remainingQuantity\": \"--\",\n\t\t\"remark\": \"--\",\n\t\t\"productionSeqNum\": \"--\",\n\t\t\"workSteps\": [] },\n\n\tnoStep: {\n\t\t\"workSteps\": [{\n\t\t\t\"stepText\": \"--\",\n\t\t\t\"duration\": \"--\",\n\t\t\t\"detailText\": \"--\",\n\t\t\t\"attensionText\": \"--\",\n\t\t\t\"variableFormula\": \"--\" }]\n\t},\n\n\tinit: function init() {\n\t\tthis.flag = $(\".main-sop\").length;\n\t\tthis.setBeforeRemove();\n\t\tthis.$page = $(this.page);\n\t\tutil.setZoom(this.page);\n\t\tthis.$timeEl = $(\".time span\", this.$page);\n\t\tutil.translate(this.$page);\n\t\tthis.initData();\n\t},\n\n\tsetBeforeRemove: function setBeforeRemove() {\n\t\tvar _this2 = this;\n\n\t\tmyApp.onPageBeforeRemove(\"pcs_sopWorkInstruction\", function () {\n\t\t\t_this2.clear();\n\t\t});\n\t},\n\tclear: function clear() {\n\t\tclearTimeout(this.intervalCont);\n\t\tclearTimeout(this.noDataInterCont);\n\t},\n\n\tsubscribeNotify: function subscribeNotify() {\n\t\tvar _this3 = this;\n\n\t\tvar _this = this;\n\t\tvar topic = \"subassembly/\" + security.getSiteCode() + \"/\" + _this.moduleConfig[\"onlineStationCode\"];\n\n\t\tif (this.flag) {\n\t\t\ttopic = \"productStationConfirm/\" + 6321 + \"/\" + _this.moduleConfig[\"onlineStationCode\"];\n\t\t}\n\t\t_this.topic = topic;\n\t\tmqttLib.subscribe(topic, \"pcs_sopWorkInstruction\");\n\n\t\tmqttLib.registerMessageHandler(topic, \"pcs_sopWorkInstruction.pcs_sopWorkInstruction\", function () {\n\t\t\t_this3.clear();\n\t\t\t_this3.getDataAndRenderScreen();\n\t\t});\n\t},\n\n\tinitData: function initData() {\n\t\tvar _this = this;\n\t\tvar config = \"SOP_WORK_INSTRUCT\";\n\t\tif (this.flag) {\n\t\t\tconfig = \"MAIN_SOP_WORK_INSTRUCTION\";\n\t\t}\n\n\t\tsecurity.getSysModuleConfig(\"PCS\", config).done(function (response) {\n\t\t\tutil.proConfig(response, function (moduleConfig) {\n\t\t\t\t_this.moduleConfig = moduleConfig;\n\n\t\t\t\t_this.getDataAndRenderScreen();\n\t\t\t\t_this.subscribeNotify();\n\t\t\t});\n\t\t});\n\t},\n\tallRender: function allRender(data) {\n\t\tutil.tplManager(\"sopWorkInsTpl\", data, \"sopWorkInstrRender\");\n\n\t\tthis.bottomRenfer(data);\n\t},\n\n\tgetDataAndRenderScreen: function getDataAndRenderScreen() {\n\n\t\tvar _this = this;\n\t\tvar url = \"GMES-CLIENT-PCS0010\";\n\t\tif (this.flag) {\n\t\t\turl = \"GMES-CLIENT-PCS0009\";\n\t\t}\n\t\tutil.service(url, {\n\t\t\trowNum: _this.moduleConfig[\"rowNum\"] || 0,\n\t\t\tassemblyStationCode: _this.moduleConfig[\"assemblyStationCode\"],\n\t\t\tstationCode: _this.moduleConfig.stationCode,\n\t\t\tonlineStationCode: _this.moduleConfig.onlineStationCode\n\t\t}, \"正在加载中\").done(function (response) {\n\n\t\t\tkit.triggerSuccessEvun({\n\t\t\t\tresponse: response,\n\t\t\t\thaveData: function haveData() {\n\t\t\t\t\t_this.allRender(response.data);\n\t\t\t\t},\n\t\t\t\tnoData: function noData() {\n\t\t\t\t\t_this.allRender(_this.data);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t},\n\n\tincreaseStep: function increaseStep(nowStep, total) {\n\t\t$(\".now-step\").html(nowStep);\n\t\t$(\".step-total\").html(total);\n\t\treturn ++nowStep;\n\t},\n\n\treduceSecond: function reduceSecond(nowSecond) {\n\t\t$(\".time_cont\").html(nowSecond);\n\t\treturn --nowSecond;\n\t},\n\n\trenderFn: function renderFn(data) {\n\t\tutil.tplManager(\"sopWorkInsTpl_bt\", data, \"sopWorkInstr_btRender\");\n\t\treturn data.duration;\n\t},\n\n\trenderNoData: function renderNoData() {\n\t\tthis.renderFn(this.noStep);\n\t\tthis.increaseStep(\"--\", \"--\");\n\t\tthis.reduceSecond(\"--\");\n\t},\n\n\tbottomRenfer: function bottomRenfer(res) {\n\n\t\tvar _this = this;\n\t\tvar arr = res.workSteps || [];\n\t\tvar length = arr.length;\n\t\tvar nowStep = 1;\n\t\tvar interval;\n\t\tvar doStep = function doStep() {\n\t\t\tinterval = _this.renderFn(arr[nowStep - 1]);\n\t\t\tnowStep = _this.increaseStep(nowStep, length);\n\t\t\tinterval = _this.reduceSecond(interval);\n\t\t};\n\n\t\tif (length === 0) {\n\t\t\t_this.renderNoData();\n\t\t\treturn;\n\t\t}\n\n\t\tdoStep();\n\n\t\t_this.intervalCont = setInterval(function () {\n\t\t\tif (interval >= 0) {\n\t\t\t\tinterval = _this.reduceSecond(interval);\n\t\t\t} else if (nowStep <= length) {\n\t\t\t\tdoStep();\n\t\t\t} else {\n\t\t\t\tclearInterval(_this.intervalCont);\n\n\t\t\t\t_this.getDataAndRenderScreen();\n\t\t\t}\n\t\t}, 1000);\n\t}\n};\n\nmodule.exports = sopWorkInstructionCtrl;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(4)))\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// assets/js/pages/pcs_sopWorkInstruction_ac6b10f9b005f1557bf3.js","/*\r\n * @name: \\pcs\\queuingIndication.js\r\n * @url: http://git.evun.cn/GMES/GMES_CLIENT_PAD\r\n * @author: kelichao\r\n * @modify: kelichao\r\n * @update: 2017-06-13\r\n * @decript: SOP作业指导书js，轮询请求站台车辆数据。\r\n * @ TODO: \r\n *   后期要通过websocket来请求主数据，下方区域根据定时器独立走步骤\r\n *   如果有数据则直接按给予的步骤数量逐步渲染，\r\n *   所有步骤渲染结束则重新发请求,下一辆车数据\r\n *   如果没有数据则触发定时器，间隔10秒重新请求。\r\n */\r\n\r\nvar security = require(\"security\");// 用于获取请求参数的封装体\r\nvar util = require(\"util\");// 工具库\r\nvar mqttLib = require(\"mqttLib\");\r\nvar kit = require(\"kit\");// 引入工具库\r\n// var mqttLib = require(\"mqttLib\");// webSocket通讯\r\n\r\nvar sopWorkInstructionCtrl = {\r\n\tintervalCont: null,// 定时器执行函数容器\r\n\tnoDataInterCont: null,// 无数据时定时器容器\r\n\tstationCode:\"\",// 站点代码\r\n    $timeEl: undefined,\r\n\tpages: undefined,// 在sweet内部已经定义,对象\r\n    page: undefined,// 页面容器\r\n\t$page: undefined,// 页面容器（jquery对象）\r\n    moduleConfig: undefined,// 模块配置\r\n\t// 渲染数据初始化\r\n\tdata: {\r\n\t\t\"productNum\": \"--\",// 产品标示号\r\n\t\t\"productId\": \"--\",// 产品id\r\n\t\t\"carDescription\": \"--\",// 当前规格\r\n\t\t\"remainingQuantity\": \"--\",// 剩余数量\r\n\t\t\"remark\": \"--\",// 备注\r\n\t\t\"productionSeqNum\": \"--\",// 生产管理号\r\n\t\t\"workSteps\":[]// 步骤数组\r\n\t},\r\n\t// 由于workSteps有长度，则会不断重新请求，没数据渲染单独拎出来\r\n\tnoStep: {\r\n\t\t\"workSteps\": [{\r\n\t\t\t\"stepText\": \"--\",// 步骤描述\r\n\t\t\t\"duration\": \"--\",// 步骤时长\r\n\t\t\t\"detailText\": \"--\",// 详细描述\r\n\t\t\t\"attensionText\": \"--\",// 注意事项\r\n\t\t\t\"variableFormula\": \"--\",// 条件\r\n\t\t}],\r\n\t},\r\n\t// 初始化\r\n\tinit: function() {\r\n\t\tthis.flag = $(\".main-sop\").length;\r\n\t\tthis.setBeforeRemove();\r\n\t\tthis.$page = $(this.page);\r\n\t\tutil.setZoom(this.page);\r\n        this.$timeEl = $(\".time span\", this.$page);\r\n        util.translate(this.$page);// 翻译用\r\n\t\tthis.initData();// 初始化数据时，获取站点配置信息，首次加载并渲染本页面数据\r\n\r\n\t},\r\n\t// 移除页面时，一并移除定时器\r\n\tsetBeforeRemove: function() {\r\n\t\t// page这个参数是必须的，不然报错\r\n\t\tmyApp.onPageBeforeRemove(\"pcs_sopWorkInstruction\", () => {\r\n\t\t\tthis.clear();\r\n\t\t});\r\n\t\t\r\n\t},\r\n\tclear: function() {\r\n\t\tclearTimeout(this.intervalCont);\r\n\t\tclearTimeout(this.noDataInterCont);\r\n\t},\r\n\t// webSocket通知\r\n\tsubscribeNotify: function () {\r\n\t\tvar _this = this;\r\n\t\tvar topic = \"subassembly/\" + security.getSiteCode() + \"/\" + _this.moduleConfig[\"onlineStationCode\"]; //主题 subassembly/1310/IP\r\n\r\n\t\tif (this.flag) {\r\n\t\t\ttopic = \"productStationConfirm/\" + 6321 + \"/\" + _this.moduleConfig[\"onlineStationCode\"]; //主线\r\n\t\t}\r\n\t\t_this.topic = topic;\r\n\t\tmqttLib.subscribe(topic, \"pcs_sopWorkInstruction\");\r\n\r\n\t\tmqttLib.registerMessageHandler(topic, \"pcs_sopWorkInstruction.pcs_sopWorkInstruction\", ()=> {\r\n\t\t\tthis.clear();\r\n\t\t\tthis.getDataAndRenderScreen();\r\n\t\t});\r\n\t},\r\n\t/* \r\n\t * @初始化页面数据\r\n     * @用于获取请求参数工厂编码siteCode这个不需要获取\r\n\t * @站点编号stationCode\r\n \t * @队列起始位startIndex\r\n \t */\r\n    initData: function () {\r\n\t\tvar _this = this;\r\n\t\tvar config = \"SOP_WORK_INSTRUCT\";\r\n    \tif (this.flag) {\r\n\t\t\tconfig = \"MAIN_SOP_WORK_INSTRUCTION\";\r\n\t\t}\r\n    \t// security是封装好的信息库\r\n    \t// isUniqueOperableStation\r\n    \t// 用于获取stationCode代码（站点，需要经过后台配置）  MAIN_SOP_WORK_INSTRUCTION\r\n\t\tsecurity.getSysModuleConfig(\"PCS\", config)\r\n\t\t\t.done(function(response){\r\n\t\t\t\tutil.proConfig(response, function(moduleConfig) {\r\n\t\t\t\t\t_this.moduleConfig = moduleConfig;\r\n\t\t\t\t\t// 模拟获取参数成功并且渲染数据了\r\n\t\t\t\t\t_this.getDataAndRenderScreen();\r\n\t\t\t\t\t_this.subscribeNotify();\r\n\t\t\t\t});\r\n\t\t\t});\r\n    },\r\n\tallRender: function(data) {\r\n\t\t// 页面上面部分渲染\r\n\t\tutil.tplManager(\"sopWorkInsTpl\", data, \"sopWorkInstrRender\");\r\n\t\t// 页面下面部分渲染,需要定时切换，所以区分\r\n\t\tthis.bottomRenfer(data);\r\n\t},\r\n    // 获取页面数据并刷新页面\r\n    getDataAndRenderScreen: function () {\r\n\t\t\r\n\t\tvar _this = this;\r\n\t\tvar url = \"GMES-CLIENT-PCS0010\";// 分线\r\n        if (this.flag) {\r\n            url = \"GMES-CLIENT-PCS0009\";// 主线\r\n        }\r\n    \tutil.service(url,\r\n    \t{\r\n\t\t\trowNum: _this.moduleConfig[\"rowNum\"] || 0,\r\n\t\t\tassemblyStationCode: _this.moduleConfig[\"assemblyStationCode\"],\r\n\t\t\tstationCode: _this.moduleConfig.stationCode,// app.stationCode // TR01 : 这个站点有数据\r\n\t\t\tonlineStationCode: _this.moduleConfig.onlineStationCode\r\n    \t}, \"正在加载中\")\r\n    \t// 成功\r\n    \t.done(function(response){\r\n\r\n      \t\tkit.triggerSuccessEvun({\r\n      \t\t\tresponse: response,\r\n      \t\t\thaveData: function() {\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 上下部分页面同步渲染\r\n\t\t\t  \t\t_this.allRender(response.data);\r\n      \t\t\t},\r\n      \t\t\tnoData: function() {\r\n\t\t\t\t\t\r\n\t\t\t\t\t// 上下部分页面同步渲染\r\n\t\t\t  \t\t_this.allRender(_this.data);\r\n\t\t\t\t\t\r\n      \t\t\t\t// // 如果当前无数据，则隔5秒继续请求\r\n      \t\t\t\t// _this.noDataInterCont = {};\r\n\t\t\t\t\t//   setTimeout(function() {\r\n      \t\t\t\t// \t_this.getDataAndRenderScreen();\r\n      \t\t\t\t// }, 10000);\r\n      \t\t\t}\r\n      \t\t});\r\n        });\r\n    },\r\n    /**\r\n     * @功能：    渲染步骤，并返回一个增加后的步数\r\n     * @param    {number}  nowStep   当前步骤序号\r\n     * @param    {number}  total     总的步骤数\r\n     */\r\n    increaseStep: function(nowStep, total) {\r\n    \t$(\".now-step\").html(nowStep);\r\n    \t$(\".step-total\").html(total);\r\n    \treturn ++nowStep;\r\n    },\r\n    /**\r\n     * @fun \t秒数渲染,并返回一个减小后的秒数\r\n     * @param\t{number}\tnowSecond\t当前秒数\r\n     */\r\n    reduceSecond: function(nowSecond) {\r\n    \t$(\".time_cont\").html(nowSecond);\r\n    \treturn --nowSecond;\r\n    },\r\n    /**\r\n     * @fun \t渲染下方区域<sopWorkInsTpl_bt>的视图。\r\n     * @param\t{object}\tdata\t当前步骤的需要数据(从数组中取得)\r\n     */\r\n    renderFn: function(data) {\r\n    \t// 渲染页面\r\n    \tutil.tplManager(\"sopWorkInsTpl_bt\", data, \"sopWorkInstr_btRender\");\r\n    \treturn data.duration;\r\n    },\r\n    // 渲染无数据页面\r\n    renderNoData: function() {\r\n\r\n\t\t// 渲染处于当前步骤的页面\r\n\t\tthis.renderFn(this.noStep);\r\n\t\tthis.increaseStep(\"--\", \"--\");\r\n\t\tthis.reduceSecond(\"--\");\r\n\t},\r\n    // 页面下面部分渲染\r\n    bottomRenfer: function(res) {\r\n\r\n    \tvar _this = this;\r\n    \tvar arr = res.workSteps || [];// 缓存数组数据\r\n    \tvar length = arr.length;// 填充前列队的长度\r\n    \tvar nowStep = 1;// 当前步骤序号\r\n    \tvar interval;// 定时时长,需要返回数据确定\r\n    \tvar doStep = function() {\r\n    \t\t// 渲染处于当前步骤的页面\r\n    \t\tinterval = _this.renderFn(arr[nowStep-1]);\r\n    \t\tnowStep = _this.increaseStep(nowStep, length);\r\n    \t\tinterval = _this.reduceSecond(interval);\r\n    \t};\r\n\r\n    \t// 如果数组长度不为0\r\n    \tif (length === 0) {\r\n    \t\t_this.renderNoData();\r\n    \t\treturn;\r\n    \t}\r\n\r\n    \t// 先执行一次步骤\r\n\t\tdoStep();\r\n\r\n\t\t_this.intervalCont = setInterval(function() {\r\n\r\n\t\t\t// 减少秒数\r\n\t\t\tif (interval >= 0) {\r\n\t\t\t\tinterval = _this.reduceSecond(interval);\r\n\r\n\t\t\t// 渲染下一步\r\n\t\t\t} else if (nowStep <= length){\r\n\t\t\t\tdoStep();\r\n\t\t\t} else {\r\n\t\t\t\tclearInterval(_this.intervalCont);\r\n\r\n\t\t\t\t// 再次请求数据\r\n\t\t\t\t_this.getDataAndRenderScreen();\r\n\t\t\t}\r\n\t\t}, 1000);\r\n    }\r\n};\r\n\r\nmodule.exports = sopWorkInstructionCtrl;\n\n\n// WEBPACK FOOTER //\n// ./src/js/pages/pcs/sopWorkInstruction.js"],"sourceRoot":""}