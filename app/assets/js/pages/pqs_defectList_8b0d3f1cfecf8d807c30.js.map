{"version":3,"sources":["webpack:///assets/js/pages/pqs_defectList_8b0d3f1cfecf8d807c30.js","webpack:///./src/js/pages/pqs/defectList.js"],"names":["webpackJsonp","643","module","exports","__webpack_require__","$","app","defectListViewCtrl","page","undefined","init","document","off","util","setBreadcrumb","this","loadPage","event","on","e","rightPanelView","router","myApp","openPanel","_this","tableHeight","height","getJSON","xhrUrl","response","tableApi","DataTable","ordering","serverSide","pagingType","scrollY","pageLength","info","columns","name","data","render","type","row","meta","list","changeRowData","rowIndex","rowData","draw","call"],"mappings":"AAAAA,cAAc,KAERC,IACA,SAAUC,EAAQC,EAASC,GAEjC,cAC4B,SAASC,EAAGC,GCLxC,GAAIC,IACHC,SAAOC,GACPC,KAAM,WACCL,EAAEM,UAAUC,IAAI,WACtBC,KAAKC,eAAe,SACpBC,KAAKC,WACLD,KAAKE,SAENA,MAAQ,WAEPZ,EAAE,oBADUU,KACgBP,MAAMU,GAAG,QAAQ,SAASC,GACrDC,eAAeC,OAAOL,SAAS,2BAC/BM,MAAMC,UAAU,YAGlBP,SAAW,WACJ,GAAIQ,GAAQT,KACRU,EAAeV,KAAKP,KAAKkB,OAAS,IAAO,IAC7CrB,GAAEsB,QAAQrB,EAAIsB,OAAO,kBAAkB,SAASC,GAC5CL,EAAMM,SAAWzB,EAAE,qBAAqBU,KAAKP,MAAMuB,WAC/CC,UAAY,EACZC,YAAc,EACdC,WAAc,iBACdC,QAAWV,EACXW,WAAc,GACdC,MAAQ,EACRC,UAEQC,KAAQ,QACRC,KAAQ,UAGRA,KAAQ,wBACRD,KAAQ,0BAGRC,KAAQ,eACRD,KAAQ,iBAGRC,KAAQ,aACRD,KAAQ,eAGRC,KAAQ,kBACRD,KAAQ,oBAGRC,KAAQ,kBACRD,KAAQ,oBAGRC,KAAQ,gBACRD,KAAQ,kBAGRC,KAAQ,mBACRD,KAAQ,qBAGRC,KAAQ,wBACRD,KAAQ,0BAGRC,KAAQ,eACRD,KAAQ,eACRE,OAAU,SAAWD,EAAME,EAAMC,EAAKC,GAClC,OAAOJ,GACH,IAAK,IACD,MAAO,gCAEX,KAAK,IACD,MAAO,mCAEX,KAAK,IACD,MAAO,eAEX,SACI,MAAO,OAMnBA,KAAQ,eACRD,KAAQ,iBAGRC,KAAQ,mBACRD,KAAQ,qBAGRC,KAAQ,YACRD,KAAQ,cAGhBC,KAAQX,EAASgB,cAoB7BC,cAAe,SAAUC,EAAUC,GACnBjC,KACNe,SAASa,IAAII,GAAUP,KAAKQ,GAASC,QASnD/C,GAAOC,QAAUI,ID5BY2C,KAAK/C,EAASC,EAAoB,GAAIA,EAAoB","file":"assets/js/pages/pqs_defectList_8b0d3f1cfecf8d807c30.js","sourcesContent":["webpackJsonp([19],{\n\n/***/ 643:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function($, app) {\n\nvar defectListViewCtrl = {\n    page: undefined,\n    init: function init() {\n        $(document).off(\"keydown\");\n        util.setBreadcrumb([\"缺陷台账\"]);\n        this.loadPage();\n        this.event();\n    },\n    event: function event() {\n        var _this = this;\n        $(\".toggle-right-btn\", _this.page).on(\"click\", function (e) {\n            rightPanelView.router.loadPage('pqs/defectList-set.html');\n            myApp.openPanel('right');\n        });\n    },\n    loadPage: function loadPage() {\n        var _this = this;\n        var tableHeight = this.page.height - 126 + 'px';\n        $.getJSON(app.xhrUrl + \"defectList.json\", function (response) {\n            _this.tableApi = $('.table-panel table', this.page).DataTable({\n                \"ordering\": false,\n                \"serverSide\": false,\n                \"pagingType\": \"simple_numbers\",\n                \"scrollY\": tableHeight,\n                \"pageLength\": 12,\n                \"info\": true,\n                \"columns\": [{\n                    \"name\": \"index\",\n                    \"data\": \"index\"\n                }, {\n                    \"data\": \"productIdentifyNumber\",\n                    \"name\": \"productIdentifyNumber\"\n                }, {\n                    \"data\": \"workUnitText\",\n                    \"name\": \"workUnitText\"\n                }, {\n                    \"data\": \"partNumber\",\n                    \"name\": \"partNumber\"\n                }, {\n                    \"data\": \"partDescription\",\n                    \"name\": \"partDescription\"\n                }, {\n                    \"data\": \"directionNumber\",\n                    \"name\": \"directionNumber\"\n                }, {\n                    \"data\": \"directionName\",\n                    \"name\": \"directionName\"\n                }, {\n                    \"data\": \"defectTypeNumber\",\n                    \"name\": \"defectTypeNumber\"\n                }, {\n                    \"data\": \"defectTypeDescription\",\n                    \"name\": \"defectTypeDescription\"\n                }, {\n                    \"data\": \"seriousLevel\",\n                    \"name\": \"seriousLevel\",\n                    \"render\": function render(data, type, row, meta) {\n                        switch (data) {\n                            case \"A\":\n                                return '<span class=\"text-red\">A<span>';\n                                break;\n                            case \"B\":\n                                return '<span class=\"text-yellow\">B<span>';\n                                break;\n                            case \"C\":\n                                return '<span>C<span>';\n                                break;\n                            default:\n                                return '';\n                        }\n                    }\n                }, {\n                    \"data\": \"responseType\",\n                    \"name\": \"responseType\"\n                }, {\n                    \"data\": \"reponsePartyType\",\n                    \"name\": \"reponsePartyType\"\n                }, {\n                    \"data\": \"checkTime\",\n                    \"name\": \"checkTime\"\n                }],\n                \"data\": response.list || []\n            });\n        });\n    },\n    changeRowData: function changeRowData(rowIndex, rowData) {\n        var _this = this;\n        _this.tableApi.row(rowIndex).data(rowData).draw();\n    }\n};\n\nmodule.exports = defectListViewCtrl;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(4), __webpack_require__(77)))\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// assets/js/pages/pqs_defectList_8b0d3f1cfecf8d807c30.js","\r\nvar defectListViewCtrl = {\r\n\tpage : undefined,\r\n\tinit: function() {\r\n        $(document).off(\"keydown\");\r\n\t\tutil.setBreadcrumb([\"缺陷台账\"]);\r\n\t\tthis.loadPage();\r\n\t\tthis.event();\r\n\t},\r\n\tevent : function(){\r\n\t\tvar _this = this;\r\n\t\t$(\".toggle-right-btn\",_this.page).on(\"click\",function(e){\r\n\t\t\trightPanelView.router.loadPage('pqs/defectList-set.html');\r\n\t\t\tmyApp.openPanel('right');\r\n\t\t})\r\n\t},\r\n\tloadPage : function(){\r\n        var _this = this;\r\n        var tableHeight = (this.page.height - 126) + 'px';\r\n        $.getJSON(app.xhrUrl+\"defectList.json\",function(response){\r\n            _this.tableApi = $('.table-panel table',this.page).DataTable({\r\n                \"ordering\": false,\r\n                \"serverSide\": false,\r\n                \"pagingType\": \"simple_numbers\",\r\n                \"scrollY\": tableHeight,\r\n                \"pageLength\": 12,\r\n                \"info\": true,\r\n                \"columns\": [\r\n                    {\r\n                        \"name\": \"index\",\r\n                        \"data\": \"index\",\r\n                    },\r\n                    {\r\n                        \"data\": \"productIdentifyNumber\",\r\n                        \"name\": \"productIdentifyNumber\",\r\n                    },\r\n                    {\r\n                        \"data\": \"workUnitText\",\r\n                        \"name\": \"workUnitText\",\r\n                    },\r\n                    {\r\n                        \"data\": \"partNumber\",\r\n                        \"name\": \"partNumber\",\r\n                    },\r\n                    {\r\n                        \"data\": \"partDescription\",\r\n                        \"name\": \"partDescription\",\r\n                    },\r\n                    {\r\n                        \"data\": \"directionNumber\",\r\n                        \"name\": \"directionNumber\",\r\n                    },\r\n                    {\r\n                        \"data\": \"directionName\",\r\n                        \"name\": \"directionName\",\r\n                    },\r\n                    {\r\n                        \"data\": \"defectTypeNumber\",\r\n                        \"name\": \"defectTypeNumber\",\r\n                    },\r\n                    {\r\n                        \"data\": \"defectTypeDescription\",\r\n                        \"name\": \"defectTypeDescription\",\r\n                    },\r\n                    {\r\n                        \"data\": \"seriousLevel\",\r\n                        \"name\": \"seriousLevel\",\r\n                        \"render\": function ( data, type, row, meta ) {\r\n                            switch(data){\r\n                                case \"A\":\r\n                                    return '<span class=\"text-red\">A<span>';\r\n                                    break;\r\n                                case \"B\":\r\n                                    return '<span class=\"text-yellow\">B<span>';\r\n                                    break;\r\n                                case \"C\":\r\n                                    return '<span>C<span>';\r\n                                    break;\r\n                                default:\r\n                                    return '';\r\n                            }\r\n\r\n                        },\r\n                    },\r\n                    {\r\n                        \"data\": \"responseType\",\r\n                        \"name\": \"responseType\",\r\n                    },\r\n                    {\r\n                        \"data\": \"reponsePartyType\",\r\n                        \"name\": \"reponsePartyType\",\r\n                    },\r\n                    {\r\n                        \"data\": \"checkTime\",\r\n                        \"name\": \"checkTime\",\r\n                    },\r\n                ],\r\n                \"data\": response.list || []\r\n            });\r\n            // $('table#defectList-table tbody',this.page).on( 'click', 'tr', function () {\r\n            //     // $(this).addClass('error');\r\n            //     var thisRow = _this.tableApi.row(this);\r\n            //     var rowIndex = thisRow.index();\r\n            //     var rowData = thisRow.data();\r\n            //     rightPanelView.router.load({\r\n            //         url: 'pqs/defectList-set.html',\r\n            //         query:{\r\n            //             'rowIndex': rowIndex,\r\n            //             'rowData': rowData\r\n            //         },\r\n            //         reload:true\r\n            //     });\r\n            //     myApp.openPanel('right');\r\n            // });\r\n        });\r\n\r\n\t},\r\n    changeRowData: function (rowIndex, rowData) {\r\n        var _this = this;\r\n        _this.tableApi.row(rowIndex).data(rowData).draw();\r\n    }\r\n}\r\n\r\n/*myApp.onPageInit('defectList', function (page) {\r\n    $(document).off(\"keydown\");\r\n\tdefectListView.init($(page.container));\r\n\r\n});*/\r\nmodule.exports = defectListViewCtrl\n\n\n// WEBPACK FOOTER //\n// ./src/js/pages/pqs/defectList.js"],"sourceRoot":""}