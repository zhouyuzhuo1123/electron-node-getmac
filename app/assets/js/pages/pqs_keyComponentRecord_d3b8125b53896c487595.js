webpackJsonp([15],{615:function(e,t,a){"use strict";(function(t,s){var r=a(34),o=a(77),n={page:void 0,datatableApi:void 0,queryParam:{serviceCode:"GMES-CLIENT-KEYPART008",siteCode:o.siteCode,workCenterCode:"",stationCode:"",productNum:"",materialCode:"",materialText:"",supplierCode:"",productId:"",lotNum:"",supplierText:"",scanStartTime:"",scanEndTime:"",statusECodes:""},statusText:void 0,init:function(){r.translate(".page[data-page='keyComponentRecord']"),r.setBreadcrumb([t.t("KEYPART.T.MENU_RECORD")]),this.statusText={success:t.t("COMMON.T.SUCCESS"),exception:t.t("COMMON.T.EXCEPTION"),missing:t.t("COMMON.T.MISSING")},this.loadPage(),this.event()},event:function(){s(".toggle-right-btn",this.page).on("click",function(){Sweet.rightPanelView.router.loadPage("views/pqs/keyComponentRecord-set.html"),myApp.openPanel("right")})},loadPage:function(){var e=this,t=this.page.height-126;this.datatableApi=r.dataTable(s(".table-panel table",this.page),{scrollY:t,ordering:!1,order:[],ajax:{serviceCode:"GMES-CLIENT-KEYPART008",param:function(){return e.queryParam}},createdRow:function(e,t){1!=t.statusEcode&&s(e).addClass("error")},columns:[{data:"id",render:function(e,t,a,s){return s.settings._iDisplayStart+s.row+1}},{data:"workCenterText",name:"workCenterText"},{data:"stationText",name:"stationText"},{data:"productNum",name:"productNum"},{data:"productId",name:"productId"},{data:"statusEcode",name:"statusEcode",render:function(t,a,s){var r,o;switch(s.statusECode){case"2":r=e.statusText.exception,o="#ef5362";break;case"1":r=e.statusText.success,o="#27c24c";break;default:r=e.statusText.missing,o="#ffce54"}return"<span style='color:"+o+";'>"+r+"</span>"}},{data:"keypartCode",name:"keypartCode"},{data:"keypartText",name:"keypartText"},{data:"supplierCode",name:"supplierCode"},{data:"supplierText",name:"supplierText"},{data:"lotNum",name:"lotNum"}]})},reloadDatatableByParam:function(e){this.queryParam=s.extend({},this.queryParam,e),this.datatableApi.ajax.reload()}};e.exports=n}).call(t,a(37),a(4))}});
//# sourceMappingURL=pqs_keyComponentRecord_d3b8125b53896c487595.js.map