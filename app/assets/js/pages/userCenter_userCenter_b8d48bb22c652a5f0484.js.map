{"version":3,"sources":["webpack:///assets/js/pages/userCenter_userCenter_b8d48bb22c652a5f0484.js","webpack:///./src/js/pages/userCenter/userCenter.js"],"names":["webpackJsonp","651","module","exports","__webpack_require__","$","i18next","security","util","userCenterCtrl","pages","undefined","page","$page","init","translate","initUI","this","loadPage","event","_this","togglePanel","e","$el","target","parents","hasClass","removeClass","hide","addClass","attr","show","on","loginOut","resetPasswordContentInit","$pageContent","validate","rules","currentPassword","newPassword","required","minlength","repeatNewPassword","equalTo","messages","t","userInfoContentInit","onsubmit","focusInvalid","focusCleanup","errorElement","ignore","invalidHandler","form","validator","errors","numberOfInvalids","showNotify","type","content","submitHandler","console","log","myApp","formFromJSON","getUserProfile","setBreadcrumb","is","call"],"mappings":"AAAAA,cAAc,KAERC,IACA,SAAUC,EAAQC,EAASC,GAEjC,cAC4B,SAASC,EAAGC,GCGxC,GAAIC,GAAWH,EAAQ,IACnBI,EAAOJ,EAAQ,IAEfK,GACHC,UAAOC,GACJC,SAAMD,GACNE,UAAOF,GACVG,KAAM,WAELN,EAAKO,UAAU,iCACfP,EAAKQ,OAAOC,KAAKL,MACjBK,KAAKC,WACLD,KAAKE,SAENA,MAAO,WACN,GAAIC,GAAQH,KAERI,EAAc,SAASC,GAE1B,GAAIC,GAAMlB,EAAEiB,EAAEE,QAAQC,QAAQ,KAE3BF,GAAIG,SAAS,YAIhBrB,EAAE,yBAAyBe,EAAMR,MAAMe,YAAY,UACnDtB,EAAE,sBAAsBe,EAAMR,MAAMgB,OACpCL,EAAIM,SAAS,UACbxB,EAAE,aAAakB,EAAIO,KAAK,YAAY,KAAKV,EAAMR,MAAMmB,QAGtD1B,GAAE,8CAA8CY,KAAKL,MAAMoB,GAAG,QAAQ,SAASV,GAC9ED,EAAYC,KAGbjB,EAAE,mDAAmDY,KAAKL,MAAMoB,GAAG,QAAQ,SAASV,GACnFD,EAAYC,KAGbjB,EAAE,8CAA8CY,KAAKL,MAAMoB,GAAG,QAAQ,SAASV,GAC9Ef,EAAS0B,aAIV5B,EAAE,+CAA+CY,KAAKL,MAAMoB,GAAG,QAAQ,SAASV,GAC/ED,EAAYC,MAIdY,yBAA2B,WAC1B,GAAIC,GAAe9B,EAAE,4BAA4BY,KAAKL,KAEtDP,GAAE,OAAO8B,GAAcC,UACtBC,OACCC,gBAAiB,WACjBC,aACCC,UAAU,EACVC,UAAW,GAEZC,mBACCF,UAAU,EACVC,UAAW,EACXE,QAAUtC,EAAE,4BAA4B8B,KAG1CS,UACCN,gBAAiBhC,EAAQuC,EAAE,4DAC3BN,aACCC,SAAUlC,EAAQuC,EAAE,4DACpBJ,UAAYnC,EAAQuC,EAAE,6DAEvBH,mBACCF,SAAUlC,EAAQuC,EAAE,kEACpBJ,UAAYnC,EAAQuC,EAAE,4DACtBF,QAAUrC,EAAQuC,EAAE,sEAMxBC,oBAAsB,WACrB,GAAIX,GAAe9B,EAAE,uBAAuBY,KAAKL,KAChDP,GAAE,yBAAyB8B,GAAcC,UAC5BW,UAAU,EACVC,cAAc,EACdC,cAAc,EACdC,aAAc,MACdC,OAAO,UACPC,eAAgB,SAASC,EAAMC,GAC3B,GAAIC,GAASD,EAAUE,kBAQvB,OAPID,IACA/C,EAAKiD,YACDC,KAAO,QACPC,QAAU,WAAaJ,EAAS,kBAIjC,GAGXK,cAAe,WACXC,QAAQC,IAAI,WAK9BC,MAAMC,aAAa3D,EAAE,oBAAqBE,EAAS0D,mBAEpD/C,SAAS,WAERV,EAAK0D,eAAe5D,EAAQuC,EAAE,qCAC3BxC,EAAE,4BAA6BY,KAAKL,MAAMuD,GAAG,aAE/C9D,EAAE,+BAA+BY,KAAKL,MAAMiB,SAAS,UAEtDZ,KAAKiB,2BACLjB,KAAK6B,uBAIP5C,GAAOC,QAAUM,IDHY2D,KAAKjE,EAASC,EAAoB,GAAIA,EAAoB","file":"assets/js/pages/userCenter_userCenter_b8d48bb22c652a5f0484.js","sourcesContent":["webpackJsonp([13],{\n\n/***/ 651:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function($, i18next) {\n\nvar security = __webpack_require__(35);\nvar util = __webpack_require__(34);\n\nvar userCenterCtrl = {\n\tpages: undefined,\n\tpage: undefined,\n\t$page: undefined,\n\tinit: function init() {\n\n\t\tutil.translate(\".page[data-page='userCenter']\");\n\t\tutil.initUI(this.page);\n\t\tthis.loadPage();\n\t\tthis.event();\n\t},\n\tevent: function event() {\n\t\tvar _this = this;\n\n\t\tvar togglePanel = function togglePanel(e) {\n\n\t\t\tvar $el = $(e.target).parents(\"li\");\n\n\t\t\tif ($el.hasClass(\"active\")) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t$(\".usercenter-menu ul li\", _this.page).removeClass(\"active\");\n\t\t\t$(\".usercenter-content\", _this.page).hide();\n\t\t\t$el.addClass(\"active\");\n\t\t\t$(\"div[name='\" + $el.attr(\"data-url\") + \"']\", _this.page).show();\n\t\t};\n\n\t\t$(\".usercenter-menu ul li[data-url='userInfo']\", this.page).on(\"click\", function (e) {\n\t\t\ttogglePanel(e);\n\t\t});\n\n\t\t$(\".usercenter-menu ul li[data-url='resetPassword']\", this.page).on(\"click\", function (e) {\n\t\t\ttogglePanel(e);\n\t\t});\n\n\t\t$(\".usercenter-menu ul li[data-url='loginOut']\", this.page).on(\"click\", function (e) {\n\t\t\tsecurity.loginOut();\n\t\t});\n\n\t\t$(\".usercenter-menu ul li[data-url='envirInfo']\", this.page).on(\"click\", function (e) {\n\t\t\ttogglePanel(e);\n\t\t});\n\t},\n\n\tresetPasswordContentInit: function resetPasswordContentInit() {\n\t\tvar $pageContent = $(\"div[name='resetPassword']\", this.page);\n\n\t\t$(\"form\", $pageContent).validate({\n\t\t\trules: {\n\t\t\t\tcurrentPassword: \"required\",\n\t\t\t\tnewPassword: {\n\t\t\t\t\trequired: true,\n\t\t\t\t\tminlength: 6\n\t\t\t\t},\n\t\t\t\trepeatNewPassword: {\n\t\t\t\t\trequired: true,\n\t\t\t\t\tminlength: 6,\n\t\t\t\t\tequalTo: $(\"input[name='newPassword']\", $pageContent)\n\t\t\t\t}\n\t\t\t},\n\t\t\tmessages: {\n\t\t\t\tcurrentPassword: i18next.t(\"USERCENTER.RESETPASSWORD.PASSWORD_CHECK_OLDPASSWORD_NULL\"),\n\t\t\t\tnewPassword: {\n\t\t\t\t\trequired: i18next.t(\"USERCENTER.RESETPASSWORD.PASSWORD_CHECK_NEWPASSWORD_NULL\"),\n\t\t\t\t\tminlength: i18next.t(\"USERCENTER.RESETPASSWORD.PASSWORD_CHECK_NEWPASSWORD_NULL\")\n\t\t\t\t},\n\t\t\t\trepeatNewPassword: {\n\t\t\t\t\trequired: i18next.t(\"USERCENTER.RESETPASSWORD.PASSWORD_CHECK_REPEATNEWPASSWORD_NULL\"),\n\t\t\t\t\tminlength: i18next.t(\"USERCENTER.RESETPASSWORD.PASSWORD_CHECK_NEWPASSWORD_NULL\"),\n\t\t\t\t\tequalTo: i18next.t(\"USERCENTER.RESETPASSWORD.PASSWORD_CHECK_NEWPASSWORD_NOT_EQUAL\")\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t},\n\n\tuserInfoContentInit: function userInfoContentInit() {\n\t\tvar $pageContent = $(\"div[name='userInfo']\", this.page);\n\t\t$(\"form.required-validate\", $pageContent).validate({\n\t\t\tonsubmit: true,\n\t\t\tfocusInvalid: false,\n\t\t\tfocusCleanup: true,\n\t\t\terrorElement: \"div\",\n\t\t\tignore: \".ignore\",\n\t\t\tinvalidHandler: function invalidHandler(form, validator) {\n\t\t\t\tvar errors = validator.numberOfInvalids();\n\t\t\t\tif (errors) {\n\t\t\t\t\tutil.showNotify({\n\t\t\t\t\t\ttype: \"error\",\n\t\t\t\t\t\tcontent: \"当前提交数据中有\" + errors + \"个字段不符合规范，请调整\"\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t},\n\n\t\t\tsubmitHandler: function submitHandler() {\n\t\t\t\tconsole.log(\"提交表单\");\n\t\t\t}\n\t\t});\n\n\t\tmyApp.formFromJSON($(\".usercenter-body\"), security.getUserProfile());\n\t},\n\tloadPage: function loadPage() {\n\n\t\tutil.setBreadcrumb([i18next.t(\"USERCENTER.T.MENU_USERCENTER\", {})]);\n\t\tif ($(\".usercenter-content:first\", this.page).is(\":visible\")) {\n\t\t\t$(\".usercenter-list ul li:first\", this.page).addClass(\"active\");\n\t\t}\n\t\tthis.resetPasswordContentInit();\n\t\tthis.userInfoContentInit();\n\t}\n};\n\nmodule.exports = userCenterCtrl;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(4), __webpack_require__(37)))\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// assets/js/pages/userCenter_userCenter_b8d48bb22c652a5f0484.js","/*\r\n * @name: \\src\\js\\utils\\initapp.js\r\n * @author: EVUN前端组\r\n * @modify: kelichao\r\n * @update: 2017-06-13\r\n * @decript: 项目初始化执行方法\r\n * @url: http://git.evun.cn/GMES/GMES_CLIENT_PAD\r\n */\r\n\r\nvar security = require(\"security\");\r\nvar util = require(\"util\");\r\n\r\nvar userCenterCtrl = {\r\n\tpages: undefined,// 在sweet内部已经定义,对象\r\n    page: undefined,// 页面容器\r\n    $page: undefined,// 页面容器（jquery对象）\r\n\tinit: function() {\r\n\r\n\t\tutil.translate(\".page[data-page='userCenter']\");\r\n\t\tutil.initUI(this.page); \r\n\t\tthis.loadPage();\r\n\t\tthis.event();\r\n\t},\r\n\tevent: function() {\r\n\t\tvar _this = this;\r\n\r\n\t\tvar togglePanel = function(e){\r\n\r\n\t\t\tvar $el = $(e.target).parents(\"li\");\r\n\r\n\t\t\tif($el.hasClass(\"active\")){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t$(\".usercenter-menu ul li\",_this.page).removeClass(\"active\");\r\n\t\t\t$(\".usercenter-content\",_this.page).hide();\r\n\t\t\t$el.addClass(\"active\");\r\n\t\t\t$(\"div[name='\"+$el.attr(\"data-url\")+\"']\",_this.page).show();\r\n\t\t};\r\n\r\n\t\t$(\".usercenter-menu ul li[data-url='userInfo']\",this.page).on(\"click\",function(e){\r\n\t\t\ttogglePanel(e);\r\n\t\t});\r\n\r\n\t\t$(\".usercenter-menu ul li[data-url='resetPassword']\",this.page).on(\"click\",function(e){\r\n\t\t\ttogglePanel(e);\r\n\t\t});\r\n\r\n\t\t$(\".usercenter-menu ul li[data-url='loginOut']\",this.page).on(\"click\",function(e){\r\n\t\t\tsecurity.loginOut();\r\n\t\t});\r\n\r\n\t\t// 环境信息点击按钮\r\n\t\t$(\".usercenter-menu ul li[data-url='envirInfo']\",this.page).on(\"click\",function(e){\r\n\t\t\ttogglePanel(e);\r\n\t\t});\r\n\t},\r\n\t/** 重置密码区块信息初始化 **/\r\n\tresetPasswordContentInit : function(){\r\n\t\tvar $pageContent = $(\"div[name='resetPassword']\",this.page);\r\n\r\n\t\t$(\"form\",$pageContent).validate({\r\n\t\t\trules: {\r\n\t\t\t\tcurrentPassword: \"required\",\r\n\t\t\t\tnewPassword: {\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\tminlength: 6\r\n\t\t\t\t},\r\n\t\t\t\trepeatNewPassword : {\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\tminlength: 6,\r\n\t\t\t\t\tequalTo : $(\"input[name='newPassword']\",$pageContent)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tmessages: {\r\n\t\t\t\tcurrentPassword: i18next.t(\"USERCENTER.RESETPASSWORD.PASSWORD_CHECK_OLDPASSWORD_NULL\"),\r\n\t\t\t\tnewPassword: {\r\n\t\t\t\t\trequired: i18next.t(\"USERCENTER.RESETPASSWORD.PASSWORD_CHECK_NEWPASSWORD_NULL\"),\r\n\t\t\t\t\tminlength:  i18next.t(\"USERCENTER.RESETPASSWORD.PASSWORD_CHECK_NEWPASSWORD_NULL\")\r\n\t\t\t\t},\r\n\t\t\t\trepeatNewPassword : {\r\n\t\t\t\t\trequired: i18next.t(\"USERCENTER.RESETPASSWORD.PASSWORD_CHECK_REPEATNEWPASSWORD_NULL\"),\r\n\t\t\t\t\tminlength:  i18next.t(\"USERCENTER.RESETPASSWORD.PASSWORD_CHECK_NEWPASSWORD_NULL\"),\r\n\t\t\t\t\tequalTo : i18next.t(\"USERCENTER.RESETPASSWORD.PASSWORD_CHECK_NEWPASSWORD_NOT_EQUAL\")\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\t// 用户信息区块内容初始化\r\n\tuserInfoContentInit : function(){\r\n\t\tvar $pageContent = $(\"div[name='userInfo']\",this.page);\r\n\t\t $(\"form.required-validate\",$pageContent).validate({\r\n                onsubmit: true,\r\n                focusInvalid: false,\r\n                focusCleanup: true,\r\n                errorElement: \"div\",\r\n                ignore:\".ignore\",\r\n                invalidHandler: function(form, validator) {\r\n                    var errors = validator.numberOfInvalids();\r\n                    if (errors) {\r\n                        util.showNotify({\r\n                            type : \"error\",\r\n                            content : \"当前提交数据中有\" + errors + \"个字段不符合规范，请调整\"\r\n                        });\r\n                    } \r\n\r\n                    return false;\r\n                },\r\n\t\t\t\t// 表单提交句柄,为一回调函数，带一个参数：form\r\n                submitHandler: function(){\r\n                    console.log(\"提交表单\");   \r\n                    // form.submit();   // 提交表单   \r\n                },  \r\n            });\r\n\t\t\t\r\n\t\tmyApp.formFromJSON($(\".usercenter-body\"), security.getUserProfile());\r\n\t},\r\n\tloadPage:function(){\r\n\t\t\r\n\t\tutil.setBreadcrumb([i18next.t(\"USERCENTER.T.MENU_USERCENTER\", {})]);\r\n\t\tif($(\".usercenter-content:first\" ,this.page).is(\":visible\")){\r\n\t\t\t//如果默认第一页信息展现，则标记相应菜单为活动状态\r\n\t\t\t$(\".usercenter-list ul li:first\",this.page).addClass(\"active\");\r\n\t\t}\r\n\t\tthis.resetPasswordContentInit();\r\n\t\tthis.userInfoContentInit();\r\n\t}\r\n};\r\n\r\nmodule.exports = userCenterCtrl;\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/pages/userCenter/userCenter.js"],"sourceRoot":""}