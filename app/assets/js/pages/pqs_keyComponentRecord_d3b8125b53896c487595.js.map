{"version":3,"sources":["webpack:///assets/js/pages/pqs_keyComponentRecord_d3b8125b53896c487595.js","webpack:///./src/js/pages/pqs/keyComponentRecord.js?ac35"],"names":["webpackJsonp","615","module","exports","__webpack_require__","i18next","$","util","app","keyComponentRecordCtrl","page","undefined","datatableApi","queryParam","serviceCode","siteCode","workCenterCode","stationCode","productNum","materialCode","materialText","supplierCode","productId","lotNum","supplierText","scanStartTime","scanEndTime","statusECodes","statusText","init","translate","setBreadcrumb","t","this","success","exception","missing","loadPage","event","on","Sweet","rightPanelView","router","myApp","openPanel","_this","scrollY","height","dataTable","ordering","order","ajax","param","createdRow","row","data","statusEcode","addClass","columns","render","type","meta","name","fontColor","statusECode","reloadDatatableByParam","extend","reload","call"],"mappings":"AAAAA,cAAc,KAERC,IACA,SAAUC,EAAQC,EAASC,GAEjC,cAC4B,SAASC,EAASC,GCG9C,GAAIC,GAAOH,EAAQ,IACfI,EAAMJ,EAAQ,IAEdK,GACAC,SAAOC,GACPC,iBAAeD,GACfE,YACIC,YAAc,yBACdC,SAAWP,EAAIO,SACfC,eAAiB,GACjBC,YAAc,GACdC,WAAa,GACbC,aAAe,GACfC,aAAe,GACfC,aAAe,GACfC,UAAY,GACZC,OAAS,GACTC,aAAe,GACfC,cAAgB,GAChBC,YAAc,GACdC,aAAe,IAEnBC,eAAYjB,GACZkB,KAAM,WACFtB,EAAKuB,UAAU,yCAEfvB,EAAKwB,eAAe1B,EAAQ2B,EAAE,2BAE9BC,KAAKL,YACDM,QAAW7B,EAAQ2B,EAAE,oBACrBG,UAAa9B,EAAQ2B,EAAE,sBACvBI,QAAW/B,EAAQ2B,EAAE,qBAEzBC,KAAKI,WACLJ,KAAKK,SAETA,MAAO,WAEHhC,EAAE,oBAAoB2B,KAAKvB,MAAM6B,GAAG,QAAQ,WACxCC,MAAMC,eAAeC,OAAOL,SAAS,yCACrCM,MAAMC,UAAU,YAIxBP,SAAW,WACP,GAAIQ,GAAQZ,KACRa,EAAWb,KAAKvB,KAAKqC,OAAO,GAEhCd,MAAKrB,aAAeL,EAAKyC,UAAU1C,EAAE,qBAAqB2B,KAAKvB,OAC3DoC,QAAWA,EACXG,UAAY,EACZC,SACAC,MAEIrC,YAAc,yBACdsC,MAAQ,WACJ,MAAQP,GAAMhC,aAGtBwC,WAAc,SAAUC,EAAKC,GACF,GAApBA,EAAKC,aACJlD,EAAEgD,GAAKG,SAAS,UAGxBC,UAEQH,KAAQ,KACRI,OAAU,SAASJ,EAAMK,EAAMN,EAAIO,GAC/B,MAAOA,GAAA,wBAAqCA,EAAKP,IAAM,KAI3DC,KAAQ,iBACRO,KAAQ,mBAGRP,KAAQ,cACRO,KAAQ,gBAGRP,KAAQ,aACRO,KAAQ,eAGRP,KAAQ,YACRO,KAAQ,cAGRP,KAAQ,cACRO,KAAQ,cACRH,OAAU,SAASJ,EAAMK,EAAMN,GAC3B,GAAI1B,GACAmC,CACJ,QAAQT,EAAIU,aACR,IAAK,IAEDpC,EAAaiB,EAAMjB,WAAWO,UAC9B4B,EAAY,SACZ,MAEJ,KAAK,IAEDnC,EAAaiB,EAAMjB,WAAWM,QAC9B6B,EAAY,SACZ,MAEJ,SAEInC,EAAaiB,EAAMjB,WAAWQ,QAC9B2B,EAAY,UAEpB,MAAQ,sBAAwBA,EAAY,MAAQnC,EAAa,aAIrE2B,KAAQ,cACRO,KAAQ,gBAGRP,KAAQ,cACRO,KAAQ,gBAGRP,KAAQ,eACRO,KAAQ,iBAGRP,KAAQ,eACRO,KAAQ,iBAGRP,KAAQ,SACRO,KAAQ,cAMxBG,uBAAwB,SAASb,GAC7BnB,KAAKpB,WAAaP,EAAE4D,UAAUjC,KAAKpB,WAAWuC,GAC9CnB,KAAKrB,aAAauC,KAAKgB,UAI/BjE,GAAOC,QAAUM,IDdY2D,KAAKjE,EAASC,EAAoB,IAAKA,EAAoB","file":"assets/js/pages/pqs_keyComponentRecord_d3b8125b53896c487595.js","sourcesContent":["webpackJsonp([15],{\n\n/***/ 615:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(i18next, $) {\n\nvar util = __webpack_require__(34);\nvar app = __webpack_require__(77);\n\nvar keyComponentRecordCtrl = {\n    page: undefined,\n    datatableApi: undefined,\n    queryParam: {\n        serviceCode: \"GMES-CLIENT-KEYPART008\",\n        siteCode: app.siteCode,\n        workCenterCode: \"\",\n        stationCode: \"\",\n        productNum: \"\",\n        materialCode: \"\",\n        materialText: \"\",\n        supplierCode: \"\",\n        productId: \"\",\n        lotNum: \"\",\n        supplierText: \"\",\n        scanStartTime: \"\",\n        scanEndTime: \"\",\n        statusECodes: \"\"\n    },\n    statusText: undefined,\n    init: function init() {\n        util.translate(\".page[data-page='keyComponentRecord']\");\n\n        util.setBreadcrumb([i18next.t(\"KEYPART.T.MENU_RECORD\")]);\n\n        this.statusText = {\n            \"success\": i18next.t(\"COMMON.T.SUCCESS\"),\n            \"exception\": i18next.t(\"COMMON.T.EXCEPTION\"),\n            \"missing\": i18next.t(\"COMMON.T.MISSING\")\n        };\n        this.loadPage();\n        this.event();\n    },\n    event: function event() {\n        $(\".toggle-right-btn\", this.page).on(\"click\", function () {\n            Sweet.rightPanelView.router.loadPage(\"views/pqs/keyComponentRecord-set.html\");\n            myApp.openPanel(\"right\");\n        });\n    },\n\n    loadPage: function loadPage() {\n        var _this = this;\n        var scrollY = this.page.height - 126;\n\n        this.datatableApi = util.dataTable($(\".table-panel table\", this.page), {\n            \"scrollY\": scrollY,\n            \"ordering\": false,\n            \"order\": [],\n            \"ajax\": {\n\n                serviceCode: \"GMES-CLIENT-KEYPART008\",\n                param: function param() {\n                    return _this.queryParam;\n                }\n            },\n            \"createdRow\": function createdRow(row, data) {\n                if (data.statusEcode != 1) {\n                    $(row).addClass(\"error\");\n                }\n            },\n            \"columns\": [{\n                \"data\": \"id\",\n                \"render\": function render(data, type, row, meta) {\n                    return meta[\"settings\"][\"_iDisplayStart\"] + meta.row + 1;\n                }\n            }, {\n                \"data\": \"workCenterText\",\n                \"name\": \"workCenterText\"\n            }, {\n                \"data\": \"stationText\",\n                \"name\": \"stationText\"\n            }, {\n                \"data\": \"productNum\",\n                \"name\": \"productNum\"\n            }, {\n                \"data\": \"productId\",\n                \"name\": \"productId\"\n            }, {\n                \"data\": \"statusEcode\",\n                \"name\": \"statusEcode\",\n                \"render\": function render(data, type, row) {\n                    var statusText;\n                    var fontColor;\n                    switch (row.statusECode) {\n                        case \"2\":\n                            {\n                                statusText = _this.statusText.exception;\n                                fontColor = \"#ef5362\";\n                                break;\n                            }\n                        case \"1\":\n                            {\n                                statusText = _this.statusText.success;\n                                fontColor = \"#27c24c\";\n                                break;\n                            }\n                        default:\n                            statusText = _this.statusText.missing;\n                            fontColor = \"#ffce54\";\n                    }\n                    return \"<span style='color:\" + fontColor + \";'>\" + statusText + \"</span>\";\n                }\n            }, {\n                \"data\": \"keypartCode\",\n                \"name\": \"keypartCode\"\n            }, {\n                \"data\": \"keypartText\",\n                \"name\": \"keypartText\"\n            }, {\n                \"data\": \"supplierCode\",\n                \"name\": \"supplierCode\"\n            }, {\n                \"data\": \"supplierText\",\n                \"name\": \"supplierText\"\n            }, {\n                \"data\": \"lotNum\",\n                \"name\": \"lotNum\"\n            }]\n        });\n    },\n\n    reloadDatatableByParam: function reloadDatatableByParam(param) {\n        this.queryParam = $.extend({}, this.queryParam, param);\n        this.datatableApi.ajax.reload();\n    }\n};\n\nmodule.exports = keyComponentRecordCtrl;\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(37), __webpack_require__(4)))\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// assets/js/pages/pqs_keyComponentRecord_d3b8125b53896c487595.js","/*\r\n * @name: \\src\\js\\pages\\pqs\\keyComponentRecord.js\r\n * @author: EVUN前端组\r\n * @modify: kelichao\r\n * @update: 2017-06-13\r\n * @decript: 关重件档案\r\n * @url: http://git.evun.cn/GMES/GMES_CLIENT_PAD\r\n */\r\n\r\nvar util = require(\"util\");\r\nvar app = require(\"app\");\r\n\r\nvar keyComponentRecordCtrl = {\r\n    page : undefined,\r\n    datatableApi : undefined,\r\n    queryParam : {\r\n        serviceCode : \"GMES-CLIENT-KEYPART008\",\r\n        siteCode : app.siteCode,\r\n        workCenterCode : \"\",\r\n        stationCode : \"\",\r\n        productNum : \"\",\r\n        materialCode : \"\",\r\n        materialText : \"\",\r\n        supplierCode : \"\",\r\n        productId : \"\",\r\n        lotNum : \"\",\r\n        supplierText : \"\",\r\n        scanStartTime : \"\",\r\n        scanEndTime : \"\",\r\n        statusECodes : \"\"\r\n    },\r\n    statusText: undefined,\r\n    init: function() {\r\n        util.translate(\".page[data-page='keyComponentRecord']\");\r\n        // util.setBreadcrumb([i18next.t(\"关重件档案\")]);\r\n        util.setBreadcrumb([i18next.t(\"KEYPART.T.MENU_RECORD\")]);\r\n\r\n        this.statusText = {\r\n            \"success\": i18next.t(\"COMMON.T.SUCCESS\"),\r\n            \"exception\": i18next.t(\"COMMON.T.EXCEPTION\"),\r\n            \"missing\": i18next.t(\"COMMON.T.MISSING\")\r\n        };\r\n        this.loadPage();\r\n        this.event();\r\n    },\r\n    event: function(){\r\n        // 点击右侧按钮可弹出右侧查询栏\r\n        $(\".toggle-right-btn\",this.page).on(\"click\",function(){\r\n            Sweet.rightPanelView.router.loadPage(\"views/pqs/keyComponentRecord-set.html\");\r\n            myApp.openPanel(\"right\");\r\n        });\r\n    },\r\n    // 默认加载图表\r\n    loadPage : function(){\r\n        var _this = this;\r\n        var scrollY = (this.page.height-126);\r\n        // 调用封装好的dataTable实例化方法\r\n        this.datatableApi = util.dataTable($(\".table-panel table\",this.page),{\r\n            \"scrollY\": scrollY,\r\n            \"ordering\": false,\r\n            \"order\" : [],\r\n            \"ajax\" : {\r\n\r\n                serviceCode : \"GMES-CLIENT-KEYPART008\",\r\n                param : function(){\r\n                    return  _this.queryParam;\r\n                }\r\n            },\r\n            \"createdRow\": function( row, data){\r\n                if(data.statusEcode != 1) {\r\n                    $(row).addClass(\"error\");\r\n                }\r\n            },\r\n            \"columns\": [\r\n                {\r\n                    \"data\": \"id\",\r\n                    \"render\": function(data, type, row,meta) {\r\n                        return meta[\"settings\"][\"_iDisplayStart\"] + meta.row + 1;\r\n                    }\r\n                },\r\n                {\r\n                    \"data\": \"workCenterText\",\r\n                    \"name\": \"workCenterText\"\r\n                },\r\n                {\r\n                    \"data\": \"stationText\",\r\n                    \"name\": \"stationText\"\r\n                },\r\n                {\r\n                    \"data\": \"productNum\",\r\n                    \"name\": \"productNum\"\r\n                },\r\n                {\r\n                    \"data\": \"productId\",\r\n                    \"name\": \"productId\"\r\n                },\r\n                {\r\n                    \"data\": \"statusEcode\",\r\n                    \"name\": \"statusEcode\",\r\n                    \"render\": function(data, type, row){\r\n                        var statusText;\r\n                        var fontColor;\r\n                        switch (row.statusECode) {\r\n                            case \"2\":{\r\n                                // statusText = \"异常\";\r\n                                statusText = _this.statusText.exception;\r\n                                fontColor = \"#ef5362\";\r\n                                break;\r\n                            }\r\n                            case \"1\":{\r\n                                // statusText = \"成功\";\r\n                                statusText = _this.statusText.success;\r\n                                fontColor = \"#27c24c\";\r\n                                break;\r\n                            }\r\n                            default:\r\n                                // statusText = \"漏扫\";\r\n                                statusText = _this.statusText.missing;\r\n                                fontColor = \"#ffce54\";\r\n                        }\r\n                        return  \"<span style='color:\" + fontColor + \";'>\" + statusText + \"</span>\";\r\n                    }\r\n                },\r\n                {\r\n                    \"data\": \"keypartCode\",\r\n                    \"name\": \"keypartCode\"\r\n                },\r\n                {\r\n                    \"data\": \"keypartText\",\r\n                    \"name\": \"keypartText\"\r\n                },\r\n                {\r\n                    \"data\": \"supplierCode\",\r\n                    \"name\": \"supplierCode\"\r\n                },\r\n                {\r\n                    \"data\": \"supplierText\",\r\n                    \"name\": \"supplierText\"\r\n                },\r\n                {\r\n                    \"data\": \"lotNum\",\r\n                    \"name\": \"lotNum\"\r\n                }\r\n            ]\r\n        });\r\n    },\r\n    // 根据查询栏输入的查询参数重新加载图表\r\n    reloadDatatableByParam: function(param) {\r\n        this.queryParam = $.extend({},this.queryParam,param);\r\n        this.datatableApi.ajax.reload();\r\n    }\r\n};\r\n\r\nmodule.exports = keyComponentRecordCtrl;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/pages/pqs/keyComponentRecord.js"],"sourceRoot":""}