webpackJsonp([18],{644:function(e,t,a){"use strict";(function(t,a){var i={page:void 0,treeData:void 0,zTreeObj:void 0,hiddenNodes:void 0,init:function(){t(document).off("keydown"),util.setBreadcrumb(["缺陷采集"]),this.loadPage(),this.loadTree(),this.event()},event:function(){var e=this;t(".toggle-left-btn",e.page).on("click",function(e){t(".defect-left-panel").toggle()}),t("#open-picker-defectscapture",e.page).on("click",function(a){t(".masked",e.page).show(),F7.pickerModal(".picker-defectscapture")}),t(".masked,.close-picker-btn",e.page).on("click",function(a){t(".masked",e.page).hide(),F7.closeModal(".picker-defectscapture");var i=t('input:radio[name="duty-type-other"]:checked');if(i.length>0){t("#duty-type-6").val(i.val());var r=t('input:radio[name="duty-type-other"]:checked+label').text();t("#duty-type-6+label").text(r)}}),t(".other-input",e.page).on("click",function(e){t("#defect-count-4").click(),t(this).focus()})},loadPage:function(){t("table#tab1-table-left",this.page).DataTable({scrollY:"270px",ordering:!1,searching:!1,paging:!1,info:!1,columns:[{width:"35px",name:"index",data:"index"},{width:"165px",data:"description",name:"description"}],ajax:function(e,i,r){t.getJSON(a.xhrUrl+"defectsCaptureTable1.json",function(e){var t={data:e.list||[]};i(t)})}}),t("table#tab1-table-left tbody").on("click","tr",function(){t("table#tab1-table-left tr.selected").removeClass("selected"),t(this).toggleClass("selected");var e=t("table#tab1-table-left tr.selected td:first-child").text();t("#choose-text-part").text(e)}),t("table#tab1-table-right",this.page).DataTable({scrollY:"270px",ordering:!1,searching:!1,paging:!1,info:!1,columns:[{width:"35px",name:"index",data:"index"},{width:"85px",data:"description",name:"description"}],ajax:function(e,i,r){t.getJSON(a.xhrUrl+"defectsCaptureTable2.json",function(e){var t={data:e.list||[]};i(t)})}}),t("table#tab1-table-right tbody").on("click","tr",function(){t("table#tab1-table-right tr.selected").removeClass("selected"),t(this).toggleClass("selected");var e=t("table#tab1-table-right tr.selected td:first-child").text();t("#choose-text-direction").text(e)});var e=window.innerHeight-502+"px";t.getJSON(a.xhrUrl+"defectsCaptureTable3.json",function(a){var i=t("table#right-table1",this.page).DataTable({scrollY:e,ordering:!1,serverSide:!1,searching:!0,searchDelay:400,paging:!1,info:!1,columns:[{data:"description",name:"description"}],data:a.list||[]});t("#right-search1").on("keyup click",function(){var e=t(this)[0].value;i.search(e,!1,!0).draw()}),t("table#right-table1 tbody").on("click","tr",function(){t("table#right-table1 tr.selected").removeClass("selected"),t(this).toggleClass("selected");var e=t("table#right-table1 tr.selected td:first-child").text();t("#choose-text-part").text(e)})}),t.getJSON(a.xhrUrl+"defectsCaptureTable4.json",function(a){var i=t("table#right-table2",this.page).DataTable({scrollY:e,ordering:!1,serverSide:!1,searching:!0,searchDelay:400,paging:!1,info:!1,columns:[{data:"description",name:"description"}],data:a.list||[]});t("#right-search2").on("keyup click",function(){var e=t(this)[0].value;i.search(e,!1,!0).draw()}),t("table#right-table2 tbody").on("click","tr",function(){t("table#right-table2 tr.selected").removeClass("selected"),t(this).toggleClass("selected");var e=t("table#right-table2 tr.selected td:first-child").text();t("#choose-text-direction").text(e)})}),t.getJSON(a.xhrUrl+"defectsCaptureTable5.json",function(a){var i=t("table#right-table3",this.page).DataTable({scrollY:e,ordering:!1,serverSide:!1,searching:!0,searchDelay:400,paging:!1,info:!1,columns:[{data:"description",name:"description"}],data:a.list||[]});t("#right-search3").on("keyup click",function(){var e=t(this)[0].value;i.search(e,!1,!0).draw()}),t("table#right-table3 tbody").on("click","tr",function(){t("table#right-table3 tr.selected").removeClass("selected"),t(this).toggleClass("selected");var e=t("table#right-table3 tr.selected td:first-child").text();t("#choose-text-defect").text(e)})})},loadTree:function(){var e=this;t.getJSON(a.xhrUrl+"defectsCaptureTree.json",function(t){e.createTree("#desfects-tree-table",t.list)})},createTree:function(e,a){var i=this,r={data:{key:{name:"name",title:"name"}}};this.zTreeObj=t.fn.zTree.init(t(e),r,a),t("#tree-search").on("keyup click",function(){var e=t(this)[0].value;i.searchTree(e)})},searchTree:function(e){function t(t){return!t.isParent&&-1==t.name.indexOf(e)}var a=this;a.zTreeObj.showNodes(a.hiddenNodes),a.hiddenNodes=a.zTreeObj.getNodesByFilter(t),a.zTreeObj.hideNodes(a.hiddenNodes)}};e.exports=i}).call(t,a(4),a(77))}});
//# sourceMappingURL=pqs_defectsCapture_d0f3e58ceab3359b20a3.js.map