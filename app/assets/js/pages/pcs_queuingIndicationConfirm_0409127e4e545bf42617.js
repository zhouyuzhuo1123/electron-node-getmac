webpackJsonp([24],{637:function(t,e,n){"use strict";(function(e,r){function o(t){f={moduleConfig:t||{configCodes:[],pictureConfigCode:"",rowNum:"",stationCode:"",title:""},renderConfig:{stationCode:t.stationCode,pageNum:0,getNum:1,stNum:2,num:t.rowNum},renderHisConfig:{stationCode:t.stationCode,pageNum:-1,getNum:1,stNum:2,num:t.rowNum},verifyConfig:{stationCode:t.stationCode,productTrackNum:"1",productNum:"",productNumCheckCode:"",productionSeqNum:""},DEFAULT:{urlDetail:"GMES-CLIENT-PCS0011",urlHistory:"GMES-CLIENT-PCS0012",urlJump:"GMES-CLIENT-PCS0014"},total:{}}}var u=n(38),i=function(t){return t&&t.__esModule?t:{default:t}}(u),a=n(78),c=n(34),d=n(35),f=null,s={init:function(){var t=this;d.getSysModuleConfig("PCS","QUEUING_INDICATION_CONFIRM").done(function(e){c.proConfig(e,function(e){o(e),t.focus(),c.translate(t.page),t.render(t.type.history),t.render(t.type.detail),t.event()})})},focus:function(){e(".u-input").focus()},processData:function(t){var e=t.data.productionQueues||t.data.subassemblyOnlineDTOs||[],n=e[0]||{};return f.total=n=c.processData(f.moduleConfig,n),n},type:{history:{getUrl:function(){return f.DEFAULT.urlHistory},getParam:function(){return f.renderHisConfig},getPage:function(){return-1},callback:function(t){e(".top .productNum").html(t.productNumFormat),e(".top .productId").html(t.productIdFormat),e(".top .carDescription").html(t.carDescription)}},detail:{getUrl:function(){return f.DEFAULT.urlDetail},getParam:function(){return f.renderConfig},getPage:function(){return f.renderConfig.pageNum},callback:function(t){f.verifyConfig.productNum=t.productNum,c.tplManager("ConfirmRenderTpl",t,"ConfirmRenderTotal")}}},render:function(t){var e=this;t.pageNum=t.getPage(),c.service(t.getUrl(),t.getParam(),"正在加载数据").done(function(n){var r=e.processData(n);t.callback(r)})},event:function(){var t=this;new a.View({initialize:function(){},current:e("#queuingIndicationConfirm"),events:{".u-input":"keyup verify",".confirmBtn":"confirm"},eventsFunction:{verify:function(n){var o=n.target.value;if(13===n.keyCode&&""!==o){var u=f.verifyConfig.productNum;if("--"===u||""===u)return void r.alert({text:"当前校验对象无有效字段"});e(n.target).select();var a={productNumCheckCode:o,productTrackNum:"1",productionSeqNum:f.total.productId},d=[e.extend(f.verifyConfig,a)],s={subassemblyOnlinesJson:(0,i.default)(d)};c.service(f.DEFAULT.urlJump,s,"正在验证").done(function(){r.alert({text:"检验通过，产品分装上线记录成功",type:"1"}),t.focus(),t.render(t.type.history),f.renderConfig.pageNum=0,t.render(t.type.detail)})}},confirm:function(){f.renderConfig.pageNum++,t.render(t.type.detail),t.focus()}}})}};t.exports=s}).call(e,n(4),n(36))}});
//# sourceMappingURL=pcs_queuingIndicationConfirm_0409127e4e545bf42617.js.map